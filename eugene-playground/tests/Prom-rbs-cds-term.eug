include "./tests/pigeon.h"

/** PROPERTIES ***/
Property Name(txt);
Property Sequence(txt);
Property PigeonType(txt);

/** PART TYPES ***/
PartType Promoter(Name, Sequence, PigeonType);
PartType RBS (Name, Sequence, PigeonType);
PartType CDS(Name, Sequence, PigeonType);
PartType Terminator(Name, Sequence, PigeonType);

// **********************
// Parts
// **********************

/** Promoters ***/

Promoter J23101(
	.Name("J23101"),
	.Sequence("tttacagctagctcagtcctaggtattatgctagc"),
	.PigeonType("p"));

Promoter J23100(
	.Name("J23100"),
	.Sequence("ttgacggctagctcagtcctaggtacagtgctagc"),
	.PigeonType("p"));

Promoter J23109(
	.Name("J23109"),
	.Sequence("tttacagctagctcagtcctagggactgtgctagc"),
	.PigeonType("p"));

/** RBS ***/

RBS B0032(
	.Name("B0032"),
	.Sequence("tcacacaggaaag"),
	.PigeonType("r"));

RBS B0034(
	.Name("B0034"),
	.Sequence("aaagaggagaaa"),
	.PigeonType("r"));

/** CDS ***/

CDS GFP(
	.Name("E0040"),
	.Sequence("atgcgtaaaggagaagaacttttcactggagttgtcccaattcttgttgaattagatggtgatgttaatgggcacaaattttctgtcagtggagagggtg
aaggtgatgcaacatacggaaaacttacccttaaatttatttgcactactggaaaactacctgttccatggccaacacttgtcactactttcggttatgg
tgttcaatgctttgcgagatacccagatcatatgaaacagcatgactttttcaagagtgccatgcccgaaggttatgtacaggaaagaactatatttttc
aaagatgacgggaactacaagacacgtgctgaagtcaagtttgaaggtgatacccttgttaatagaatcgagttaaaaggtattgattttaaagaagatg
gaaacattcttggacacaaattggaatacaactataactcacacaatgtatacatcatggcagacaaacaaaagaatggaatcaaagttaacttcaaaat
tagacacaacattgaagatggaagcgttcaactagcagaccattatcaacaaaatactccaattggcgatggccctgtccttttaccagacaaccattac
ctgtccacacaatctgccctttcgaaagatcccaacgaaaagagagaccacatggtccttcttgagtttgtaacagctgctgggattacacatggcatgg
atgaactatacaaataataa"),
	.PigeonType("c"));

CDS mCherry(
	.Name("K180008"),
	.Sequence("atggtgagcaagggcgaggaggataacatggccatcatcaaggagttcatgcgcttcaaggtgcacatggagggctccgtgaacggccacgagttcgaga
tcgagggcgagggcgagggccgcccctacgagggcacccagaccgccaagctgaaggtgaccaagggtggccccctgcccttcgcctgggacatcctgtc
ccctcagttcatgtacggctccaaggcctacgtgaagcaccccgccgacatccccgactacttgaagctgtccttccccgagggcttcaagtgggagcgc
gtgatgaacttcgaggacggcggcgtggtgaccgtgacccaggactcctccctgcaggacggcgagttcatctacaaggtgaagctgcgcggcaccaact
tcccctccgacggccccgtaatgcagaagaagaccatgggctgggaggcctcctccgagcggatgtaccccgaggacggcgccctgaagggcgagatcaa
gcagaggctgaagctgaaggacggcggccactacgacgctgaggtcaagaccacctacaaggccaagaagcccgtgcagctgcccggcgcctacaacgtc
aacatcaagttggacatcacctcccacaacgaggactacaccatcgtggaacagtacgaacgcgccgagggccgccactccaccggcggcatggacgagc
tgtacaag"),
	.PigeonType("c"));

/** Terminators ***/

Terminator B0015(
	.Name("B0015"),
	.Sequence("ccaggcatcaaataaaacgaaaggctcagtcgaaagactgggcctttcgttttatctgttgtttgtcggtgaacgctctctactagagtcacactggctc
accttcgggtgggcctttctgcgtttata"),
	.PigeonType("t"));

Terminator B1002(
	.Name("B1002"),
	.Sequence("cgcaaaaaaccccgcttcggcggggttttttcgc"),
	.PigeonType("t"));

/*** Devices ***/

Device devA (Promoter, RBS, CDS, Terminator);
println(devA);


/*** Rules ***/

//None yet

/*** Produce all combinations ***/ 
println("Before Product");
Device[] devices = product(devA);
println("After Product");

toPigeon(devices[0]);

for (num i=0; i<devices.size(); i++) {
	println("***");	
    toPigeon(devices[i]);    
}

println("*** DONE! ***");
